QueueCTL - Backend Developer Internship Assignment
Tech Stack: Your Choice - (Python/Go/Node.js / Java)
Submission: GitHub Repository (Public) + README
Objective
Build a CLI-based background job queue system called queuectl. This system must manage background jobs with worker processes, handle retries using exponential backoff, and maintain a Dead Letter Queue (DLQ) for permanently failed jobs.
Problem Overview
Implement a minimal, production-grade job queue system that supports:
* Enqueuing and managing background jobs
* Running multiple worker processes
* Retrying failed jobs automatically with exponential backoff
* Moving jobs to a Dead Letter Queue after exhausting retries
* Persistent job storage across restarts
* All operations accessible through a CLI interface
Job Specification
Each job must contain at least the following fields:
{
 "id": "unique-job-id",
 "command": "echo 'Hello World'",
 "state": "pending",
 "attempts": 0,
 "max_retries": 3,
 "created_at": "2025-11-04T10:30:00Z",
 "updated_at": "2025-11-04T10:30:00Z"
}

Job Lifecycle
Jobs must have the following states:
* pending: Waiting to be picked up by a worker
* processing: Currently being executed
* completed: Successfully executed
* failed: Failed, but retryable
* dead: Permanently failed (moved to DLQ)
CLI Commands
Your tool must support the following commands:
* Enqueue: queuectl enqueue '{"id":"job1", "command":"sleep 10"}'
   * Description: Add a new job to the queue.
* Workers (Start): queuectl worker start --count 3
   * Description: Start one or more workers.
* Workers (Stop): queuectl worker stop
   * Description: Stop running workers gracefully.
* Status: queuectl status
   * Description: Show summary of all job states & active workers.
* List Jobs: queuectl list --state pending or queuectl list
   * Description: List jobs by state.
* DLQ: queuectl dlq list or queuectl dlq retry job1
   * Description: View or retry DLQ jobs.
* Config: queuectl config set max-retries 3
   * Description: Manage configuration (retry, backoff, etc.).
System Requirements
1. Job Execution
* Each worker must execute the specified command (e.g., sleep 2, echo hello).
* Exit codes should determine success or failure.
* Commands that fail or are not found should trigger retries.
2. Retry & Backoff
* Failed jobs must retry automatically.
* Implement exponential backoff. The provided formula is: delay = (base ^ attempts) seconds
* Move jobs to the DLQ after max_retries are exhausted.
3. Persistence
* Job data must persist across restarts.
* Use file storage (JSON), SQLite/embedded DB, or another method you think is best.
4. Worker Management
* Multiple workers must be able to process jobs in parallel.
* Prevent duplicate processing (locking is required).
* Implement graceful shutdown (workers must finish their current job before exiting).
5. Configuration
* Allow the retry count and backoff base to be configurable via the CLI.
Expected Test Scenarios
Ensure the following scenarios are handled:
1. A basic job completes successfully.
2. A failed job retries with backoff and eventually moves to the DLQ.
3. Multiple workers process jobs without overlap.
4. Invalid commands fail gracefully.
5. Job data survives a system restart.
Must-Have Deliverables
Your submission must include:
* A working CLI application (queuectl)
* Persistent job storage
* Multiple worker support
* A retry mechanism with exponential backoff
* A Dead Letter Queue (DLQ)
* Configuration management
* A clean CLI interface with commands and help texts
* A comprehensive README.md
* Code structured with a clear separation of concerns
* Minimal testing or a script to validate core flows
README Expectations
Your README.md must cover:
1. Setup Instructions: How to run locally.
2. Usage Examples: CLI commands with example outputs.
3. Architecture Overview: Job lifecycle, data persistence, worker logic.
4. Assumptions & Trade-offs: Decisions made, any simplifications.
5. Testing Instructions: How to verify functionality.
Evaluation Criteria
* Functionality (40%): Core features (enqueue, worker, retry, DLQ).
* Code Quality (20%): Structure, readability, maintainability.
* Robustness (20%): Handles edge cases and concurrency safely.
* Documentation (10%): Clear setup and usage instructions.
* Testing (10%): Demonstrates correctness and reliability.
Bonus Features (Optional)
Extra credit for:
* Job timeout handling
* Job priority queues
* Scheduled/delayed jobs (run_at)
* Job output logging
* Metrics or execution stats
* Minimal web dashboard for monitoring
Disqualification / Common Mistakes
Avoid these:
* Missing retry or DLQ functionality
* Race conditions or duplicate job execution
* Non-persistent data (jobs lost on restart)
* Hardcoded configuration values
* Unclear or missing README
Submission Process
1. Push your complete solution to a public GitHub repository.
2. Include the README.md as specified.
3. Record a working CLI demo, upload it to a drive, and provide the link in the README.md.
4. Optional: Include a short architecture or design.md file.
5. Share the repository link for review.